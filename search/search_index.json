{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Inicio","text":"DXFTOEDB <p> Generaci\u00f3n automatizada de modelos ETABS a partir de planos en formato DXF </p> <p>   Dxftoedb es una aplicaci\u00f3n de l\u00ednea de comandos para generar autom\u00e1ticamente modelos de Etabs a partir de planos dxf.   Las etapas principales del proceso son la limpieza y preparaci\u00f3n de los planos, la generaci\u00f3n de planos preliminares para el ajuste de los ejes de coordenadas, la detecci\u00f3n autom\u00e1tica de los elementos estructurales presentes en los planos, el rescate de los elementos estructurales y la generaci\u00f3n del modelo en etabs. </p>"},{"location":"00-ejecutar-programa/","title":"\u00bfComo ejecutar dxftoedb?","text":"<pre><code>python dxftoedb1.py\npython dxftoedb2.py\npython dxftoedb3.py\npython dxftoedb4.py\n</code></pre>"},{"location":"00-ejecutar-programa/#dxftoedb1","title":"dxftoedb1","text":""},{"location":"00-ejecutar-programa/#input","title":"Input","text":"<ul> <li>Planos originales.</li> <li>Archivo de configuraci\u00f3n.</li> </ul>"},{"location":"00-ejecutar-programa/#descripcion","title":"Descripci\u00f3n","text":"<ul> <li>Detectar los layers y entidades indicados en la configuraci\u00f3n y transformarlos a un formato pre definido.</li> <li>Agrupa los ejes seg\u00fan su orientaci\u00f3n.</li> </ul>"},{"location":"00-ejecutar-programa/#output","title":"Output","text":"<ul> <li>Archivo excel con las coordenadas de los ejes.</li> <li>Dirctorio y archivos '/planos_dxftoedb/*_grilla.dxf' con planos dxf con los ejes capturados.</li> </ul>"},{"location":"00-ejecutar-programa/#dxftoedb2","title":"dxftoedb2","text":""},{"location":"00-ejecutar-programa/#input_1","title":"Input","text":"<ul> <li>Archivo de configuraci\u00f3n.</li> <li>Planos '/planos_dxftoedb/*_grilla.dxf'.</li> <li>Archivo excel con las coordenadas de los ejes revisadas y/o modificadas.</li> </ul>"},{"location":"00-ejecutar-programa/#descripcion_1","title":"Descripci\u00f3n","text":"<ul> <li>Hace el rescate de las entidades que representan ejes, muros y vigas.</li> <li>Genera el dibujo preliminar con los elementos estrucurales que ser\u00e1n tranferidos al modelo ETABS.</li> </ul>"},{"location":"00-ejecutar-programa/#output_1","title":"Output","text":"<ul> <li>Archivos '/planos_dxftoedb/*_dxftoedb.dxf' con planos que incluyen los elementos estructurales en el formato requerido para su posterior exportaci\u00f3n a ETABS.</li> </ul>"},{"location":"00-ejecutar-programa/#dxftoedb3","title":"dxftoedb3","text":""},{"location":"00-ejecutar-programa/#input_2","title":"Input","text":"<ul> <li>Archivo de configuraci\u00f3n.</li> <li>Planos '/planos_dxftoedb/*_dxftoedb.dxf' revisados y/o modificados.</li> </ul>"},{"location":"00-ejecutar-programa/#descripcion_2","title":"Descripci\u00f3n","text":"<ul> <li>Construcci\u00f3n de archivo previo a la exportaci\u00f3n a ETABS.</li> </ul>"},{"location":"00-ejecutar-programa/#output_2","title":"Output","text":"<ul> <li>Archivo *.json</li> </ul>"},{"location":"00-ejecutar-programa/#dxftoedb4","title":"dxftoedb4","text":""},{"location":"00-ejecutar-programa/#input_3","title":"Input","text":"<ul> <li>Archivo de configuraci\u00f3n.</li> <li>Archivo *.json</li> </ul>"},{"location":"00-ejecutar-programa/#descripcion_3","title":"Descripci\u00f3n","text":"<ul> <li>Generar modelo ETABS.</li> </ul>"},{"location":"00-ejecutar-programa/#output_3","title":"Output","text":"<ul> <li>Archivo *.edb</li> </ul>"},{"location":"11-lista-de-funciones/","title":"Orden del proceso dxftoedb","text":""},{"location":"11-lista-de-funciones/#dxftoedb1","title":"dxftoedb1","text":"<p>1 Solicita ingresa por ventana la carpeta de trabajo, en esa carpeta debe estar el archivo project_settings.toml y las plantas en formato dxf que est\u00e1n indicada al interior del toml en la llave [\"Stories\"][\"Data\"] del diccionario.</p> <p>2 Rescata el path de esas plantas y les aplica un cambio a los nombres de capas seg\u00fan lo indicado en project_settings.toml [\"entidades\"], con la funcion 'cambio_capa'.</p> <p>'cambio_capa': - crear_layers_iec - configurar_lineas - configurar_textos - configurar_lwpolyline - apagar_layers_innecesarios</p> <p>y retorna las plantas con esas modificaciones</p> <p>3 Rescata desde las nuevas plantas las coordenadas y nombres de ejes de todo el proyecto, y los escribe en un excel para revisar las advertencias de nombre repetidos o de textos de nombres lejanos del fin de la linea de eje, con la funcion 'ejes'</p> <p>'ejes': - captura_entidades - reune_los_segmentos_de_un_eje - asigna_los_rotulos_a_los_segmentos - asigna_direccion_eje - grilla_en_excel</p> <p>guarda las plantas modificadas que han sido leidas en formato *_grilla.dxf</p>"},{"location":"11-lista-de-funciones/#dxftoedb2","title":"dxftoedb2","text":"<ol> <li> <p>Desde el directorio ya seleccionado en dxftoedb1 abre el archivo project_settings.toml para su lectura</p> </li> <li> <p>abre las plantas _grilla.dxf para modificarlo y el archivo excel que contiene la informacion de los ejes a dibujar, las guarda en _ejes_corr.dxf\" (ESTO ES ADICIONAL Y NO ESTA PRESENTE EN LA RAMA DESARROLLO)*, con la funcion 'generar_plantas_con_ejes_corregidos'</p> </li> </ol> <p>'generar_plantas_con_ejes_corregidos': - dibuja_ejes</p> <ol> <li> <p>lee load_patterns desde la llave presente en project_settings.toml.</p> </li> <li> <p>Dibuja la planta que tiene todas las entidades de muros y vigas con su espesor, y las guarda en formato _dxftoedb.dxf. Estas plantas pueden ser modificadas para optimizar el rescate de informacion, ya sea incorporando nuevas y/o corregiendo las ya rescatadas y visualizadas en plantas, esto se realiza con la funcion 'estructura'.</p> </li> </ol> <p>'estructura': - rescatar_entidades: Crea lista de entidades de lineas de ejes, muros y vigas,   y de textos de nombres de ejes y vigas. - rescatar_info_texto: Crea lista de diccionario con todos los textos de vigas con su nombre y posicion. - rescatar_coordenadas: rescata las coordenadas de las entidades de ejes, vigas y muros - interseccion_de_ejes: Crea lista con todas las intersecciones de las lineas de ejes</p> <p>Luego para cada eje de la lista coordenadas_ejes. - box_contenedor_de_entidades: crea un box para buscar entidades que contenga ese eje.</p> <p>Todo esto para vigas y muros. - encontrar_entidades_en_caja - encontrar_entidades_eje - entidades_a_lista - aplanar_entidades - fusionar_segmentos - ajuste_por_eje - quita_lineas_cortas</p> <ul> <li>pone_espesor_muros</li> <li>pone_rotulo_vigas</li> <li> <p>configurar_plano_nuevo</p> </li> <li> <p>dibujar_plano_base</p> </li> <li>dibujar_tabla_cargas</li> <li>dibujo_muros_sin_espesor</li> <li>dibujo_muros_estructurales</li> <li>dibujo_vigas_estructurales</li> <li>guardar_planta</li> </ul>"},{"location":"11-lista-de-funciones/#dxftoedb3","title":"dxftoedb3","text":"<p>Lee el dibujo dxf formato _dxftoedb.dxf y crea un diccionario JSON con la informaci\u00f3n de todo elemento estructural considerado en el proyecto</p> <p>'dxftojson' - calcular_cotas - rescatar_secciones_losas - rescatar_losas - rescatar_muros_y_vigas - ejes_desde_excel - ponez: para vigas y muros - categoriza_vigas: si es frame o shell - espesores_de_muros - remover_secciones_duplicadas: para las losas - grilla_api - definicion_secciones: escribe en JSON las secciones tipo frame y wall (shell) - vigas_json - muros_json2: escribe elementos tipo shell que previamente eran vigas frame - muros_json2</p>"},{"location":"11-lista-de-funciones/#dxftoedb4","title":"dxftoedb4","text":"<p>Realiza el ingreso de las secciones y elementos escritos en diccionario JSON en el modelo ETABS.</p> <ul> <li>etabs_connection</li> <li>draw</li> </ul>"},{"location":"11-lista-de-funciones/#tolerancias","title":"Tolerancias","text":"<ul> <li>ajuste_por_eje:     tol_de_ajuste: float = 31.0     Esta tolerancia es para dar una distancia m\u00e1xima para mover puntos de lineas hacia una interseccion de eje.</li> </ul>"},{"location":"comandos-autocad/","title":"Comandos \u00datiles Autocad","text":"<ul> <li>layiso</li> <li>layon</li> <li>layoff: Apagar el layer seleccionado</li> <li>isolate</li> <li>unisolate</li> <li>overkill: Eliminar l\u00edneas duplicadas</li> <li> <p>extend: alargar l\u00edneas hasta otra l\u00ednea de referencia</p> </li> <li> <p>activar l\u00ednea de comandos: ctrl+9</p> </li> </ul>"},{"location":"configuracion/","title":"Configuraci\u00f3n","text":""},{"location":"configuracion/#inicio","title":"Inicio","text":"<p>   La aplicaci\u00f3n requiere de un archivo de configuraci\u00f3n para el proyecto, de manera de poder transmitir a Etabs las distintas opciones disponibles para cada par\u00e1metro requerido. </p> <p> Se debe crear un archivo en el directorio de trabajo project_settings.toml. </p> <p>Warning</p> <p>Se debe respetar totalmente el nombre de los par\u00e1metros (may\u00fasculas, min\u00fasculas, guiones, comillas, etc, mostrado en los ejemplos).</p> <pre><code>[Version_etabs]\nversion = \"v21\"\n\n[Project_Information]\nClient_Name = \"MGV Ingenier\u00eda\"\nProject_Name = \"Proyecto de Prueba\"\nProject_Number = \"R9999\"\nCompany_Name = \"IEC Ingenieria SA\"\nEngineer = \"MGV\"\nChecker = \"LRM\"\nSupervisor = \"MGB\"\nModel_Name = \"R9999\"\nModel_Description = \"Este es un edificio de pruebas de dxftoedb\"\n\n[Data]\nDiaphragms      = [\"D1\"]\nModulo_Dinamico = true\nCategoria = \"II\"\nZona      = 2\nSuelo     = \"B\"\n\n[Materials]\nConcrete = [\"G30\", \"G40\"]\nSteel    = []\nRebar    = [\"A630-420H\"]\n\n[Stories]\nBaseElevation = -1.5\nData = [\n[\"p01\", 2.5, \"01\", \"G30\"],\n[\"p02\", 2.5, \"02\", \"G30\"]\n]\n\n[Load_Patterns]\nD   =  true  # Carga Permanente\nDi  = false  # Peso del Hielo\nCM  =  true  # Carga Permanente Adicional\nL   =  true  # Carga de uso seg\u00fan NCh 1537\nLr  = false  # Carga de uso de techo seg\u00fan NCh 1537\nS   = false  # Carga de nieve seg\u00fan NCh 431\nR   = false  # Carga de lluvia seg\u00fan ASCE/SEI 07, cap\u00edtulo 8\nWxp = false  # Carga de viento seg\u00fan NCh 432, en direcci\u00f3n X+\nWxn = false  # Carga de viento seg\u00fan NCh 432, en direcci\u00f3n X-\nWyp = false  # Carga de viento seg\u00fan NCh 432, en direcci\u00f3n Y+\nWyn = false  # Carga de viento seg\u00fan NCh 432, en direcci\u00f3n Y-\nTAX =  true  # Torsi\u00f3n Accidental para sismo X\nTAY =  true  # Torsi\u00f3n Accidental para sismo Y\n\n[cargas]\nestacionamiento = [0.10, 0.50]\nhabitacion      = [0.15, 0.20]\npasillo         = [0.15, 0.40]\n\n[Modal_Case]\nModalCaseName = \"modal\"\nEigenOrRitz   = \"Eigen\"\nMinModes      = 36\nMaxModes      = 36\n\n[Load_Combinations]\nLRFD        = true\nASD         = false\nfundaciones = true\n\n\n[entidades]\n[entidades.LINEAS_DE_EJES]\nLayer = \"S-GRID\"\n\n[entidades.TEXTOS_DE_EJES]\n\"Layer\" = \"S-GRID-IDEN\"\n\n[entidades.LINEAS_DE_VIGAS]\n\"Layer\" = \"S-BEAM\"\n\n[entidades.TEXTOS_DE_VIGAS]\n\"Layer\" = \"S-BEAM-IDEN\"\n\n[entidades.LINEAS_DE_MUROS]\n\"Layer\" = \"A-WALL\"\n\n[entidades.TEXTOS_DE_MUROS]\n\"Layer\" = \"A-WALL-IDEN\"\n\n[entidades.LINEAS_DE_COLUMNAS]\n\"Layer\" = \"COLUMNAS\"\n\n[entidades.TEXTOS_DE_COLUMNAS]\n\"Layer\" = \"TEXTOS\"\n</code></pre>"},{"location":"configuracion/#secciones-project_settings","title":"Secciones project_settings","text":""},{"location":"configuracion/#version_etabs","title":"Version_etabs","text":"<p>La aplicaci\u00f3n funciona para dos versiones de Etabs, 19 y 21</p> <pre><code>[Version_etabs]\nversion = \"v21\"\n</code></pre>"},{"location":"configuracion/#project_information","title":"Project_Information","text":"<p>En esta secci\u00f3n se configuran los metadatos del proyecto. Los campos que se deben configurar son los mostrados a continuaci\u00f3n:</p> <pre><code>[Project_Information]\nClient_Name = \"MGV Ingenier\u00eda\"\nProject_Name = \"Proyecto de Prueba\"\nProject_Number = \"R9999\"\nCompany_Name = \"IEC Ingenieria SA\"\nEngineer = \"MGV\"\nChecker = \"LRM\"\nSupervisor = \"MGB\"\nModel_Name = \"R9999\"\nModel_Description = \"Este es un edificio de pruebas de dxftoedb\"\n</code></pre> <p> </p>"},{"location":"configuracion/#data","title":"Data","text":"<p>En esta secci\u00f3n se configuran par\u00e1metros generales del proyecto.</p> <pre><code>[Data]\nDiaphragms      = [\"D1\"]\nModulo_Dinamico = true\nCategoria       = \"II\"\nZona            = 3\nSuelo           = \"D\"\n</code></pre>"},{"location":"configuracion/#varios-diafragmas","title":"Varios diafragmas","text":"<pre><code>[Data]\nDiaphragms      = [\"D1\", \"D2\", \"D3\"]\n</code></pre>"},{"location":"configuracion/#modulo-de-elasticidad-dinamico","title":"M\u00f3dulo de elasticidad din\u00e1mico","text":"<pre><code>[Data]\nModulo_Dinamico = true\n</code></pre>"},{"location":"configuracion/#modulo-de-elasticidad-estatico","title":"M\u00f3dulo de elasticidad est\u00e1tico","text":"<pre><code>[Data]\nModulo_Dinamico = false\n</code></pre>"},{"location":"configuracion/#categorias","title":"Categor\u00edas","text":"<p>Se admiten las categor\u00edas \"I\", \"II\", \"III\" y \"IV\" para la generaci\u00f3n autom\u00e1tica del espectro de respuesta el\u00e1stico de la norma NCh433.</p>"},{"location":"configuracion/#zonas","title":"Zonas","text":"<p>Se admiten las zonas 1, 2 y 3 para la generaci\u00f3n autom\u00e1tica del espectro de respuesta el\u00e1stico de la norma NCh433.</p>"},{"location":"configuracion/#suelos","title":"Suelos","text":"<p>Se admiten las suelos \"A\", \"B\", \"C\", \"D\" y \"E\" para la generaci\u00f3n autom\u00e1tica del espectro de respuesta el\u00e1stico de la norma NCh433.</p>"},{"location":"configuracion/#materials","title":"Materials","text":"<p>En esta secci\u00f3n se configura lo relacionado con los materiales.</p> <pre><code>[Materials]\nConcrete = [\"G30\", \"G40\"]\nRebar    = [\"A630-420H\"]\nSteel    = []\n</code></pre>"},{"location":"configuracion/#concrete","title":"Concrete","text":"<p>Es posible definir todos los tipos de hormigones necesarios para el proyecto de entre los de la siguiente imagen, tanto en la nomenclatura \"GXX\" como \"HXX\". Se considera una densidad para todos los hormigones de 2.5 ton/m3.</p> <p> </p>"},{"location":"configuracion/#rebar","title":"Rebar","text":"<p>Es posible definir todos los tipos de calidad de acero de refuerzo necesarios para el proyecto de entre \"A630-420H\" y \"A440-280H\". Se considera una densidad para todos los aceros de 7.85 ton/m3.</p>"},{"location":"configuracion/#steel","title":"Steel","text":"<p>EN DESARROLLO ...</p>"},{"location":"configuracion/#stories","title":"Stories","text":"<p>En esta secci\u00f3n se proporciona la informaci\u00f3n necesaria para definir los pisos de la estructura.</p> <pre><code>[Stories]\nBaseElevation = -1.5\nData = [\n[\"p01\", 2.5, \"01\", \"G30\"],\n[\"p02\", 2.5, \"02\", \"G30\"]\n]\n</code></pre> <ul> <li>El par\u00e1metro 'BaseElevation' representa la cota de empotramiento de la estructura.</li> <li> El par\u00e1metro 'Data' corresponde a una lista de listas, donde cada una de las listas representa la informaci\u00f3n requerida de cada piso. Para cada piso se necesitan 4 datos.       <ol> <li>Nombre que llevar\u00e1 el piso en Etabs.</li> <li>Altura entre piso.</li> <li>Nombre del plano dxf del que se rescata la informaci\u00f3n respectiva.</li> <li>Tipo de hormig\u00f3n de la losa en la nomenclatura \"GXX\"</li> </ol> </li> </ul>"},{"location":"configuracion/#load_patterns","title":"Load_Patterns","text":"<p>En esta secci\u00f3n se definen los Load Patterns (Patrones de carga) que llegar\u00e1n a Etabs. El valor 'true' significa que se crear\u00e1 ese patr\u00f3n de carga en Etabs, 'false' lo contrario.</p> <ul> <li> <p>Los patrones de carga D, Di, CM, L, Lr, S, R, Wxp, Wxn, Wyp, Wyn, TAX y Tay, son los patrones de carga por defecto, no es necesario que est\u00e9n presentes, pero para que sea posible generar las combinaciones de carga de manera autom\u00e1tica es necesario que se llamen exactamente de esta manera. Se recomienda no eliminar estos estados de carga por defecto, sino que simplemente cambiar al valor 'false' en caso que el estado de carga respectivo no est\u00e9 presente.</p> </li> <li> <p>Est\u00e1 permitido agregar estados de carga adicionales despu\u00e9s de los estados de carga por defecto, estos estados de carga se agregar\u00e1n de manera autom\u00e1tica en Etabs, pero ser\u00e1 responsabilidad del usuario incorporarlos en las combinaciones de carga.</p> </li> <li> <p>Se ha intentado homologar el nombre de los patrones de carga a los que aparecen en la norma NCh3171.</p> </li> <li> <p>Se ha incorporado un estado de carga no normativo \"CM\", ya que es una pr\u00e1ctica com\u00fan desacoplar el peso propio de las cargas muertas adicionales.</p> </li> <li> <p>La nomenclatura Wxp, Wxn, Wyp y Wyn se traduce como viento en direcci\u00f3n X positivo, direcci\u00f3n X negativo, direcci\u00f3n Y positivo y direcci\u00f3n Y negativo.</p> </li> </ul> <pre><code>[Load_Patterns]\nD   =  true  # Carga Permanente\nDi  = false  # Peso del Hielo\nCM  =  true  # Carga Permanente Adicional\nL   =  true  # Carga de uso seg\u00fan NCh 1537\nLr  = false  # Carga de uso de techo seg\u00fan NCh 1537\nS   = false  # Carga de nieve seg\u00fan NCh 431\nR   = false  # Carga de lluvia seg\u00fan ASCE/SEI 07, cap\u00edtulo 8\nWxp = false  # Carga de viento seg\u00fan NCh 432, en direcci\u00f3n X+\nWxn = false  # Carga de viento seg\u00fan NCh 432, en direcci\u00f3n X-\nWyp = false  # Carga de viento seg\u00fan NCh 432, en direcci\u00f3n Y+\nWyn = false  # Carga de viento seg\u00fan NCh 432, en direcci\u00f3n Y-\nTAX =  true  # Torsi\u00f3n Accidental para sismo X\nTAY =  true  # Torsi\u00f3n Accidental para sismo Y\n</code></pre>"},{"location":"configuracion/#cargas","title":"Cargas","text":"<p>En esta secci\u00f3n se configura el valor de las cargas est\u00e1ticas en ton/m2 que se aplicar\u00e1n sobre las losas de la estructura. Se debe agregar un valor por cada patr\u00f3n de carga marcado como 'true' entre Di, CM, L, Lr, S, R.</p> <p>Se debe asignar un nombre a cada carga, la cual se debe tener una correlaci\u00f3n con un load pattern est\u00e1tico de la secci\u00f3n anterior.</p> <pre><code>[cargas]\nestacionamiento = [0.10, 0.50]\nhabitacion      = [0.15, 0.20]\npasillo         = [0.15, 0.40]\n</code></pre>"},{"location":"configuracion/#modal_case","title":"Modal_Case","text":"<p>Esta secci\u00f3n es para definir las caracter\u00edsticas del caso modal.</p> <pre><code>[Modal_Case]\nModalCaseName = \"modal\"\nEigenOrRitz   = \"Eigen\"\nMinModes      = 36\nMaxModes      = 36\n</code></pre>"},{"location":"configuracion/#load_combinations","title":"Load_Combinations","text":"<p>Esta secci\u00f3n es para indicar que combinaciones de carga se desea generar autom\u00e1ticamente a partir de los patrones de carga existentes.</p> <pre><code>[Load_Combinations]\nLRFD        = true\nASD         = false\nfundaciones = true\n</code></pre>"},{"location":"configuracion/#lrfd","title":"LRFD","text":"<p>Corresponde a las combinaciones utilizando el m\u00e9todo de dise\u00f1o por resistencia. Valor 'true' para generaci\u00f3n autom\u00e1tica. La imagen siguiente extraida de la norma NCh3171,muestra las combinaciones que se generan automaticamente.</p> <p> </p> <p>Warning</p> <p>No se considera la modificaci\u00f3n a las ecuaciones de combinaci\u00f3n de carga producto de las excepciones que la misma norma indica en este mismo punto 9.1.1.</p>"},{"location":"configuracion/#asd","title":"ASD","text":"<p>Corresponde a las combinaciones utilizando el m\u00e9todo de tensiones admisibles. Valor 'true' para generaci\u00f3n autom\u00e1tica. La imagen siguiente extraida de la norma NCh3171,muestra las combinaciones que se generan automaticamente.</p> <p> </p>"},{"location":"configuracion/#fundaciones","title":"fundaciones","text":"<p>Corresponde a las combinaciones utilizando el m\u00e9todo de tensiones admisibles para la generaci\u00f3n de combinaciones no lineales basada en la metodolog\u00eda mediante la cual se representan las cargas s\u00edsmicas sobre las fundaciones a trav\u00e9s de los modos m\u00e1s representativos. Valor 'true' para generaci\u00f3n autom\u00e1tica.</p> <ul> <li>Estas combinaciones no son las \"definitivas\", puesto que para obtener la versi\u00f3n final es necesario realizar un proceso para obtener los modos predominantes.</li> <li>Para las combinaciones de carga al sismo X siempre se aplicar\u00e1 el modo 1, mientras que para sismo Y siempre se aplicar\u00e1 el modo 2, esto DEBE ser editado por el usuario una vez realizado el an\u00e1lisis.</li> <li>El factor de amplificaci\u00f3n aplicado a la forma modal se deja en un valor exagerado 999, esto DEBE ser editado por el usuario una vez realizado el an\u00e1lisis.</li> </ul> <p> </p>"},{"location":"configuracion/#entidades","title":"Entidades","text":"<p>En esta parte del archivo de configuraci\u00f3n se indican las capas (layers) existentes en los planos y que representan a los ejes, vigas, muros y columnas. Cada entidad est\u00e1 definida por un nombre y un color.</p> <pre><code>[entidades]\n[entidades.LINEAS_DE_EJES]\nColor = 256\nLayer = \"S-GRID\"\n\n[entidades.TEXTOS_DE_EJES]\n\"Color\" = 256\n\"Layer\" = \"S-GRID-IDEN\"\n\n[entidades.LINEAS_DE_VIGAS]\n\"Color\" = 256\n\"Layer\" = \"S-BEAM\"\n\n[entidades.TEXTOS_DE_VIGAS]\n\"Color\" = 256\n\"Layer\" = \"S-BEAM-IDEN\"\n\n[entidades.LINEAS_DE_MUROS]\n\"Color\" = 256\n\"Layer\" = \"A-WALL\"\n\n[entidades.TEXTOS_DE_MUROS]\n\"Color\" = 256\n\"Layer\" = \"A-WALL-IDEN\"\n\n[entidades.LINEAS_DE_COLUMNAS]\n\"Color\" = 256\n\"Layer\" = \"COLUMNAS\"\n\n[entidades.TEXTOS_DE_COLUMNAS]\n\"Color\" = 256\n\"Layer\" = \"TEXTOS\"\n</code></pre> <p>Tip</p> <p>Tomar nota del nombre de los layers en la etapa anterior de preparaci\u00f3n de planos.</p> <p>En la imagen siguiente se pueden observar el nombre de las capas en BricsCad.</p> <p> </p>"},{"location":"desarrollador/","title":"Orden del proceso dxftoedb","text":""},{"location":"desarrollador/#dxftoedb1","title":"dxftoedb1","text":"<p>1 Solicita ingresa por ventana la carpeta de trabajo, en esa carpeta debe estar el archivo project_settings.toml y las plantas en formato dxf que est\u00e1n indicada al interior del toml en la llave [\"Stories\"][\"Data\"] del diccionario.</p> <p>2 Rescata el path de esas plantas y les aplica un cambio a los nombres de capas seg\u00fan lo indicado en project_settings.toml [\"entidades\"], con la funcion 'cambio_capa'.</p> <p>'cambio_capa':</p> <ul> <li>crear_layers_iec</li> <li>configurar_lineas</li> <li>configurar_textos</li> <li>configurar_lwpolyline</li> <li>apagar_layers_innecesarios</li> </ul> <p>y retorna las plantas con esas modificaciones</p> <p>3 Rescata desde las nuevas plantas las coordenadas y nombres de ejes de todo el proyecto, y los escribe en un excel para revisar las advertencias de nombre repetidos o de textos de nombres lejanos del fin de la linea de eje, con la funcion 'ejes'</p> <p>'ejes':</p> <ul> <li>captura_entidades</li> <li>reune_los_segmentos_de_un_eje</li> <li>asigna_los_rotulos_a_los_segmentos</li> <li>asigna_direccion_eje</li> <li>grilla_en_excel</li> </ul> <p>guarda las plantas modificadas que han sido leidas en formato *_grilla.dxf</p>"},{"location":"desarrollador/#dxftoedb2","title":"dxftoedb2","text":"<ol> <li> <p>Desde el directorio ya seleccionado en dxftoedb1 abre el archivo project_settings.toml para su lectura</p> </li> <li> <p>abre las plantas *_grilla.dxf para modificarlo y el archivo excel que contiene la informacion de los ejes    a dibujar, las guarda en _ejes_corr.dxf\" (ESTO ES ADICIONAL Y NO ESTA PRESENTE EN LA RAMA DESARROLLO),    con la funcion 'generar_plantas_con_ejes_corregidos'</p> </li> </ol> <p>'generar_plantas_con_ejes_corregidos':</p> <ul> <li> <p>dibuja_ejes</p> </li> <li> <p>lee load_patterns desde la llave presente en project_settings.toml.</p> </li> <li> <p>Dibuja la planta que tiene todas las entidades de muros y vigas con su espesor, y las guarda en formato _dxftoedb.dxf.    Estas plantas pueden ser modificadas para optimizar el rescate de informacion, ya sea incorporando nuevas y/o corregiendo    las ya rescatadas y visualizadas en plantas, esto se realiza con la funcion 'estructura'.</p> </li> </ul> <p>'estructura':</p> <ul> <li>rescatar_entidades: Crea lista de entidades de lineas de ejes, muros y vigas,   y de textos de nombres de ejes y vigas.</li> <li>rescatar_info_texto: Crea lista de diccionario con todos los textos de vigas con su nombre y posicion.</li> <li>rescatar_coordenadas: rescata las coordenadas de las entidades de ejes, vigas y muros</li> <li>interseccion_de_ejes: Crea lista con todas las intersecciones de las lineas de ejes</li> </ul> <p>Luego para cada eje de la lista coordenadas_ejes.</p> <ul> <li>box_contenedor_de_entidades: crea un box para buscar entidades que contenga ese eje.</li> </ul> <p>Todo esto para vigas y muros.</p> <ul> <li>encontrar_entidades_en_caja</li> <li>encontrar_entidades_eje</li> <li>entidades_a_lista</li> <li>aplanar_entidades</li> <li>fusionar_segmentos</li> <li>ajuste_por_eje</li> <li> <p>quita_lineas_cortas</p> </li> <li> <p>pone_espesor_muros</p> </li> <li>pone_rotulo_vigas</li> <li> <p>configurar_plano_nuevo</p> </li> <li> <p>dibujar_plano_base</p> </li> <li>dibujar_tabla_cargas</li> <li>dibujo_muros_sin_espesor</li> <li>dibujo_muros_estructurales</li> <li>dibujo_vigas_estructurales</li> <li>guardar_planta</li> </ul>"},{"location":"desarrollador/#dxftoedb3","title":"dxftoedb3","text":"<p>Lee el dibujo dxf formato _dxftoedb.dxf y crea un diccionario JSON con la informaci\u00f3n de todo elemento estructural considerado en el proyecto</p> <p>'dxftojson'</p> <ul> <li>calcular_cotas</li> <li>rescatar_secciones_losas</li> <li>rescatar_losas</li> <li>rescatar_muros_y_vigas</li> <li>ejes_desde_excel</li> <li>ponez: para vigas y muros</li> <li>categoriza_vigas: si es frame o shell</li> <li>espesores_de_muros</li> <li>remover_secciones_duplicadas: para las losas</li> <li>grilla_api</li> <li>definicion_secciones: escribe en JSON las secciones tipo frame y wall (shell)</li> <li>vigas_json</li> <li>muros_json2: escribe elementos tipo shell que previamente eran vigas frame</li> <li>muros_json2</li> </ul>"},{"location":"desarrollador/#dxftoedb4","title":"dxftoedb4","text":"<p>Realiza el ingreso de las secciones y elementos escritos en diccionario JSON en el modelo ETABS.</p> <ul> <li>etabs_connection</li> <li>draw</li> </ul>"},{"location":"desarrollador/#tolerancias","title":"Tolerancias","text":"<ul> <li>ajuste_por_eje:   tol_de_ajuste: float = 31.0   Esta tolerancia es para dar una distancia m\u00e1xima para mover puntos de lineas hacia una interseccion de eje.</li> </ul>"},{"location":"dxftoedb1/","title":"Dxftoedb1","text":"<p>Dxftoedb1 es el primer script de la aplicaci\u00f3n. Su funci\u00f3n es leer los planos orignales (despu\u00e9s del 'pre-pinchado') y generar un nuevo set de planos 'limpios', solo con los elementos recuperados que pertenecen a las capas indicadas y en las nuevas capas, junto con un archivo excel con las coordenadas de los ejes que se logr\u00f3 recuperar.</p>"},{"location":"dxftoedb1/#input","title":"Input","text":"<ol> <li>Planos pre-pinchados en formato dxf.</li> <li>Archivo de configuraci\u00f3n project_settings.toml</li> </ol>"},{"location":"dxftoedb1/#como-ejecutar-dxftoedb1","title":"\u00bfComo ejecutar dxftoedb1?","text":"<p>Se debe ejecutar como cualquier script de python en la l\u00ednea de comandos.</p> <p> </p> <p>Luego de la ejecuci\u00f3n se solicitar\u00e1 al usuario seleccionar la carpeta de trabajo. La carpeta de trabajo es donde est\u00e1n los planos preparados en dxf y el archivo de configuraci\u00f3n project_settings.toml.</p> <p> </p>"},{"location":"dxftoedb1/#output","title":"Output","text":"<p>El resultado de la ejecuci\u00f3n de dxftoedb1 es la generaci\u00f3n de la carpeta \"planos_dxftoedb\" dentro del directorio de trabajo y del archivo excel \"grilla_RXXXX.xlsx\".</p>"},{"location":"dxftoedb1/#planos-_grilla","title":"Planos \"_grilla\"","text":"<p>Dentro del directorio \"planos_dxftoedb\" estar\u00e1 un nuevo set de planos \"limpios\", los archivos se identifican por el sufijo \"_grilla\", este set de planos sirve para comprobar que elementos fueron rescatados y est\u00e1 configurado con las capas adecuadas para ser le\u00eddo en la siguiente etapa.</p> <p> </p>"},{"location":"dxftoedb1/#excel-de-coordenadas","title":"Excel de coordenadas","text":"<p>El archivo \"grilla_RXXXX.xlsx\" contiene la informaci\u00f3n de los ejes que se pudo rescatar.</p> <p>Los datos vienen ordenados por direccion del eje, ya sea X, Y o Diagonal, y desde la coordenada menor la mayor.</p> <p>Este archivo DEBE ser revisado por el usuario, en paralelo con los planos \"_grilla\", para detectar cualquier inconsistencia que pudiese haber ocurrido en el proceso de captura.</p> <p>Para facilitar la visualizaci\u00f3n y la detecci\u00f3n de inconsistencias se han incorporado las siguientes caracteristicas:</p> <ul> <li>Los ejes que han sido detectados con igual nombre y distinta coordenadas est\u00e1n pintados en un mismo color.</li> <li>Se ha incorporado una columna \"distancia pelota\", que representa la distancia encontrada entra el borde de una l\u00ednea de eje y una pelota de eje. Cuando esta distancia es menor a 15cm o mayor a 70cm, se pintar\u00e1 la celda de color para indicar un eje \"sospechoso\" que se sugiere revisar.</li> </ul> <p> </p>"},{"location":"dxftoedb1/#problemas-con-ejes","title":"Problemas con ejes","text":"<p>Dentro de los posibles problemas que se puede encontrar se encuentran los siguientes:</p> <ul> <li>Ejes de nombre duplicado. Soluci\u00f3n: Editar la celda correspondiente asignando el nombre correcto al eje mal asignado.</li> <li>Eje con nombre incorrecto. Soluci\u00f3n: Editar la celda correspondiente asignando el nombre correcto al eje mal asignado.</li> <li>Eje no detectado. Soluci\u00f3n: Agregar una fila adicional al archivo excel con las coordenadas del eje no detectado (usar distancia pelota = 0).</li> </ul>"},{"location":"dxftoedb2/","title":"Dxftoedb2","text":"<p>Dxftoedb2 es el segundo script de la aplicaci\u00f3n. Su funci\u00f3n es leer los planos generados del paso anterior para encontrar los elementos estructurales y representarlos mediante una l\u00ednea caracteristica que pasa por el eje de coordenadas correspondiente. En esta etapa tambi\u00e9n se genera la tabla de p propiedades y cargas de las losas.</p>"},{"location":"dxftoedb2/#input","title":"Input","text":"<ol> <li>Planos \"../planos_dxftoedb/[nombre_plano]_grilla.dxf\"</li> <li>Archivo \"../grilla_RXXXX.xlsx\"</li> </ol>"},{"location":"dxftoedb2/#como-ejecutar-dxftoedb2","title":"\u00bfComo ejecutar dxftoedb2?","text":"<p>Se debe ejecutar como cualquier script de python en la l\u00ednea de comandos.</p> <p> </p>"},{"location":"dxftoedb2/#output","title":"Output","text":"<p>El resultado de la ejecuci\u00f3n de dxftoedb2 es la generaci\u00f3n de los planos \"../planos_dxftoedb/[nombre_plano]_dxftoedb.dxf\". Estos son planos de trabajo, en los que se debe ajustar los elementos estrucurales y cargas que finalmente llegar\u00e1n al modelo Etabs.</p> <p> </p>"},{"location":"dxftoedb2/#elementos-estructurales","title":"Elementos estructurales","text":"<p>Los elementos estructurales en el plano est\u00e1n representado por l\u00edneas y un texto representativo de la secci\u00f3n.</p> <ul> <li> <p>El usuario debe ajustar el inicio y fin de las l\u00edneas para determinar las dimensiones de los elementos estructurales.</p> </li> <li> <p>El usuario debe ajustar el texto de la secci\u00f3n para representar adecuadamente la secci\u00f3n transversal.</p> </li> </ul> <p>Warning</p> <p>El texto de la secci\u00f3n debe tocar la l\u00ednea del elemento correspondiente y estar dentro del tercio central de la extensi\u00f3n de la l\u00ednea.</p>"},{"location":"dxftoedb2/#muros","title":"Muros","text":"<p>Los muros son l\u00edneas en la capa \"MUROS_etabs\" de color calipso.</p> <p> </p>"},{"location":"dxftoedb2/#vigas","title":"Vigas","text":"<p>Las vigas son l\u00edneas en la capa \"VIGAS_etabs\" de color amarillo.</p> <p> </p>"},{"location":"dxftoedb2/#columnas","title":"Columnas","text":"<p>EN DESARROLLO ...</p>"},{"location":"dxftoedb2/#losas-y-cargas","title":"Losas y cargas","text":"<p>Las losas y cargas est\u00e1n directamente relacionadas ya que en un mismo procedimiento de agrean tanto las losas como las cargas.</p> <p>A cada plano se le ha incorporado una tabla de propiedades y cargas como la siguiente.</p> <p> </p> <ul> <li> <p>En el plano correspondiente el usuario debe identificar las distintas losas existentes y modificar sus propiedades de acuerdo a sus caracteristicas.</p> </li> <li> <p>El usuario debe dibujar elementos tipo \"hatch\" y asignarle al elemento el color correspondiente de la tabla.</p> </li> </ul> <p> </p>"},{"location":"dxftoedb3/","title":"Dxftoedb3","text":"<p>Dxftoedb3 es el tercer script de la aplicaci\u00f3n. Su funci\u00f3n es rescatar los datos desde los planos \"../planos_dxftoedb/[nombre_plano]_dxftoedb.dxf\" y prepararlos para el \u00faltimo script que generar\u00e1 el modelo Etabs.</p>"},{"location":"dxftoedb3/#input","title":"Input","text":"<ol> <li>\"../planos_dxftoedb/[nombre_plano]_dxftoedb.dxf\"</li> </ol>"},{"location":"dxftoedb3/#como-ejecutar-dxftoedb1","title":"\u00bfComo ejecutar dxftoedb1?","text":"<p>Se debe ejecutar como cualquier script de python en la l\u00ednea de comandos.</p> <p> </p>"},{"location":"dxftoedb3/#output","title":"Output","text":"<p>El resultado de la ejecuci\u00f3n de dxftoedb3 es un archivo en formato JSON con los datos rescatados \"../[codigo_proyecto].json\".</p> <p>Warning</p> <p>El archivo JSON puede ser modificado y los cambios se reflejar\u00e1n en el modelo, sin embargo no tendr\u00e1 respaldo en planos.</p>"},{"location":"dxftoedb4/","title":"Dxftoedb4","text":"<p>Dxftoedb4 es el cuarto script de la aplicaci\u00f3n. Su funci\u00f3n es generar el modelo Etabs.</p>"},{"location":"dxftoedb4/#input","title":"Input","text":"<ol> <li>\"../[codigo_proyecto].json\"</li> </ol>"},{"location":"dxftoedb4/#como-ejecutar-dxftoedb4","title":"\u00bfComo ejecutar dxftoedb4?","text":"<p>Se debe ejecutar como cualquier script de python en la l\u00ednea de comandos.</p> <p> </p>"},{"location":"dxftoedb4/#output","title":"Output","text":"<p>El resultado de la ejecuci\u00f3n de dxftoedb4 es un archivo edb \"../[codigo_proyecto].edb\".</p>"},{"location":"ideas/","title":"Ideas","text":"<ul> <li>Columnas</li> <li>Estructura met\u00e1lica</li> <li>Mesh horizontal autom\u00e1tico</li> <li>Mesh vertical autom\u00e1tico</li> <li>An\u00e1lisis autom\u00e1tico</li> <li>C\u00e1lculo de los factores de reducci\u00f3n de los sismos X e Y</li> <li>Incorporaci\u00f3n autom\u00e1tica de la torsi\u00f3n accidental</li> <li>C\u00e1lculo de los factores de amplificaci\u00f3n de los modos para las combinaciones no lineales de fundaciones</li> <li>Analisis automatico con centro de gravedad desplazado</li> <li>Generaci\u00f3n autom\u00e1tica de informe ejecutivo</li> <li>Revisi\u00f3n documentaci\u00f3n</li> <li>Actualizaci\u00f3n y mantenimiento de documentaci\u00f3n</li> <li>Automatizaci\u00f3n de las etapas de prepinchado</li> <li>Excepciones de la norma de combinaciones</li> <li>Tests para estructuras complejas</li> <li>Integraci\u00f3n con post procesadores</li> <li>Desarrollo de una interfaz gr\u00e1fica</li> </ul>"},{"location":"instalacion/","title":"Instalaci\u00f3n","text":"<ul> <li>Hacer una instalaci\u00f3n limpia de Python     <ul> <li>Debe ser la versi\u00f3n 3.11.8</li> <li>Descargar desde aqu\u00ed\ud83d\udc48</li> </ul> </li> <li>Descargar \u00faltima versi\u00f3n del instalador desde aqu\u00ed\ud83d\udc48 (archivo con extensi\u00f3n .whl)</li> <li>Ir con una terminal a la ubicaci\u00f3n del arhivo descargado y ejecutar </li> <pre><code>  python -m pip install nombre_del_archivo.whl\n</code></pre> </ul>"},{"location":"preparacion/","title":"Preparaci\u00f3n","text":"<p>   El primer paso es la recepci\u00f3n y preparaci\u00f3n del set de planos originales.   Normalmente se recibir\u00e1n planos en formato DWG, por lo que ser\u00e1 necesario realizar un proceso de 'prepinchado', este proceso consta normalmente de las siguientes etapas: </p> <ul> <li>Recepci\u00f3n de planos originales en formato dwg.</li> <li>Dejar una planta por archivo (puede ser piso tipo).</li> <li>Explotar todos los elementos del dibujo 3 veces. (Res\u00famen comandos autocad). \ud83d\udd17</li> <li>Dejar la unidad de medida de los planos en cent\u00edmetros.</li> <li>Definici\u00f3n y actualizaci\u00f3n de los planos para asignar un origen de coordenadas com\u00fan. \ud83d\udd17</li> <li>Verificar que todas las plantas tengan la misma capa (layer) asignada a ejes, muros, vigas, columnas, losas, textos de ejes y textos de vigas. (Res\u00famen comandos autocad). \ud83d\udd17</li> <li>Guardar planos en formato dxf en el directorio de trabajo escogido.</li> </ul>"},{"location":"problemas/","title":"Problemas Frecuentes","text":"<ul> <li>\u00bfPor qu\u00e9 un elemento no se captur\u00f3?</li> <li>Porque no lleva eje.</li> <li>Porque no est\u00e1 en un layer estructural.</li> <li>Porque no supera el largo m\u00ednimo requerido (ajustable en las tolerancias).</li> </ul>"}]}